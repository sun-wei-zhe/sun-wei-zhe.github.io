---
layout:     post
title:      StreamingAssets各平台路径加载
subtitle:   各平台路径加载
date:       2020-04-28
author:     SWZ
header-img: img/UniRx/reactivex_bg_min.png
catalog: true
tags:
    - Unity
---

## Unity各平台加载路径汇总

## Resources

　　Resources文件可以在根目录下，也可以在子目录下，只要叫Resources就好。Resources目录下所有资源将被打包进游戏存放资源的archive中，Resources目录在应用中也就不复存在，但加载时仍使用曾在Resource下的路径。

　　该目录下所有资源会被压缩，只读不可写，使用Resources.Load()接口加载。

## StreamingAssetsPath

　　StreamingAssets目录必须在Assets根目录下，该目录下所有资源也会被打包到游戏里，不同于Resources目录，该目录下的资源不会进行压缩，同样是只读不可写的。Unity基本也没有提供从该路径下直接读取资源的方法，只有www可以加载audioClip、texture和二进制文件。但Unity提供了从该目录加载AssetBundle的方法，我们一般直接在这个目录下存放AssetBundle文件。可以通过Application.streamingAssetsPath访问该路径。

　

　　各平台StreamingAssets路径打印：

　　**Win**：E:/myProj/Assets/StreamingAssets

　　**Mac** : /myProj/Assets/StreamingAssets

　　**Andorid**：jar:file:///data/app/com.myCompany.myProj-1/base.apk!/assets

　　注意安卓的坑点（获取包内数据）：这种路径得用WWW加载其他方式都加载不了（本地文件前要加file://）

![img](file:///C:/Users/89310/Documents/My Knowledge/temp/cd7972d8-f371-446b-93ff-efc445e20349/128/index_files/9973be50-2306-4086-adb9-33fb16b7f6cb.png)

示例：     

 

```c#
string filePath = 
#if UNITY_ANDROID && !UNITY_EDITOR
        "jar:file://" + Application.dataPath + "!/assets/" + flodername + "/";
#elif UNITY_IPHONE && !UNITY_EDITOR
        Application.dataPath + "/Raw/";
#elif UNITY_STANDALONE_WIN || UNITY_EDITOR
 "file://" + Application.dataPath + "/StreamingAssets" + "/" + flodername + "/";
#else
        string.Empty;
#endif
```

 

```c#
private static string StreamingAssetsDataPath
{
	get
    {
    	if (Application.platform == RuntimePlatform.Android)
        	return "jar:file://" + Application.dataPath + "!/assets/";
        else if (Application.platform == RuntimePlatform.IPhonePlayer)
            return Application.dataPath + "/Raw/";
        else
        	return "file://" + Application.dataPath + "/StreamingAssets/";
	}
}
```

 **iOS**: /var/containers/Application/E5543D66-83F3-476D-8A8F-49D5332B3763/myProj.app/Data/Raw