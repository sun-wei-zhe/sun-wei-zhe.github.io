---
layout:     post
title:      探究整型的取值范围
subtitle:   为何Int上限为「2^31-1」下限却是「-2^31」
date:       2020-04-26
author:     SWZ
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - 数据结构 & 算法
---

## 前置知识

### 机器数和真值

在研究这个问题之前我们先来了解下机器数和真值的概念

1、机器数

一个数在计算机中的二进制表示形式, 叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1.

比如，十进制中的数 +3 ，计算机字长为8位，转换成二进制就是00000011。如果是 -3 ，就是 10000011 。

那么，这里的 00000011 和 10000011 就是机器数。

2、真值

因为第一位是符号位，所以机器数的形式值就不等于真正的数值。例如上面的有符号数 10000011，其最高位1代表负，其真正数值是 -3 而不是形式值131（10000011转换成十进制等于131）。所以，为区别起见，将带符号位的机器数对应的真正数值称为机器数的真值。

例：0000 0001的真值 = +000 0001 = +1，1000 0001的真值 = –000 0001 = –1

### 原码、反码、补码

原码
> [+1]<sub>原</sub> = 0000 0001
> [-1]<sub>原</sub> = 1000 0001

反码
> [+1] = [00000001]<sub>原</sub> = [00000001]<sub>反</sub>
> [-1] = [10000001]<sub>原</sub> = [11111110]<sub>反</sub>

补码
> [+1] = [00000001]<sub>原</sub> = [00000001]<sub>反</sub> = [00000001]<sub>补</sub>
> [-1] = [10000001]<sub>原</sub> = [11111110]<sub>反</sub> = [11111111]<sub>补</sub>

## 进入正题

正数在计算机中表示为原码，最高位为符号位:

2147483647的原码为0111 1111 1111 1111 1111 1111 1111 1111

所以最大的正整数是2147483647

负数在计算机中表示为补码，最高位为符号位：

-1：

原码为1000 0000 0000 0000 0000 0000 0000 0001，

反码为1111 1111 1111 1111 1111 1111 1111 1110，

补码为1111 1111 1111 1111 1111 1111 1111 1111

-2147483647：

原码为1111 1111 1111 1111 1111 1111 1111 1111，

反码为1000 0000 0000 0000 0000 0000 0000 0000，

补码为1000 0000 0000 0000 0000 0000 0000 0001

所以最小的负数是-2147483647吗？错，不是。

在二进制中，0有两种表方法。

+0的原码为0000 0000 0000 0000 0000 0000 0000 0000，

-0的原码为1000 0000 0000 0000 0000 0000 0000 0000，

因为0只需要一个，所以把-0拿来当做一个最小的数-2147483648。

-2147483648的补码表示为1000 0000 0000 0000 0000 0000 0000 0000，在32位没有原码。

注意，这个补码并不是真正的补码，真正的补码是1 1000 0000 0000 0000 0000 0000 0000 0000，溢出。

所以带符号32位int类型整数为-2147483648~2147483647

## 结论

计算机中32位int类型变量的范围为-2147483648~2147483647即-2<sup>31 </sup>~ 2<sup>31</sup>-1